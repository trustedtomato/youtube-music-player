!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){var i,o;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
!function(r){"use strict";void 0===(o="function"==typeof(i=r)?i.call(t,n,t,e):i)||(e.exports=o)}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var e,t,n,i,o,r,a,l,s,c,d,h,u,p,f,g,v,m,y,b,_,w,C,D,E,T=[],S=!1,x=!1,P=!1,k=/\s+/g,B="Sortable"+(new Date).getTime(),A=window,I=A.document,Y=A.parseInt,N=A.setTimeout,M=A.jQuery||A.Zepto,R=A.Polymer,X={capture:!1,passive:!1},L="draggable"in I.createElement("div"),O=!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((D=I.createElement("x")).style.cssText="pointer-events:auto","auto"===D.style.pointerEvents),H=!1,j=!1,F=Math.abs,V=Math.min,U=[],W=[],z=function(e,t){var n=oe(e),i=Y(n.width),o=de(e,0,t),r=de(e,1,t),a=o&&oe(o),l=r&&oe(r),s=a&&Y(a.marginLeft)+Y(a.marginRight)+o.getBoundingClientRect().width,c=l&&Y(l.marginLeft)+Y(l.marginRight)+r.getBoundingClientRect().width;return"flex"===n.display?"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal":o&&("block"===a.display||"grid"===a.display||s>=i&&"none"===n.float||r&&"none"===n.float&&s+c>i)?"vertical":"horizontal"},q=function(e,t){if(!e||!e.getBoundingClientRect)return A;var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=oe(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n||!n.getBoundingClientRect||n===I.body)return A;if(i||t)return n;i=!0}}}while(n=n.parentNode);return A},G=ge(function(e,t,n,i){if(t.scroll){var o,r,a,d,h=n?n[B]:window,u=t.scrollSensitivity,p=t.scrollSpeed,f=e.clientX,g=e.clientY,v=window.innerWidth,m=window.innerHeight,b=!1;s!==n&&(Z(),l=t.scroll,c=t.scrollFn,!0===l&&(l=q(n,!0),s=l));var _=0,w=l;do{var C;if(w&&w!==A?(r=oe(C=w),o=w.getBoundingClientRect(),a=C.clientWidth<C.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)&&(F(o.right-f)<=u)-(F(o.left-f)<=u),d=C.clientHeight<C.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)&&(F(o.bottom-g)<=u)-(F(o.top-g)<=u)):w===A&&(C=A,a=(v-f<=u)-(f<=u),d=(m-g<=u)-(g<=u)),!T[_])for(var D=0;D<=_;D++)T[D]||(T[D]={});T[_].vx==a&&T[_].vy==d&&T[_].el===C||(T[_].el=C,T[_].vx=a,T[_].vy=d,clearInterval(T[_].pid),!C||0==a&&0==d||(b=!0,T[_].pid=setInterval(function(){i&&0===this.layer&&J.active._emulateDragOver(!0);var t=T[this.layer].vy?T[this.layer].vy*p:0,n=T[this.layer].vx?T[this.layer].vx*p:0;"function"==typeof c&&"continue"!==c.call(h,n,t,e,y,T[this.layer].el)||(T[this.layer].el===A?A.scrollTo(A.pageXOffset+n,A.pageYOffset+t):(T[this.layer].el.scrollTop+=t,T[this.layer].el.scrollLeft+=n))}.bind({layer:_}),24))),_++}while(t.bubbleScroll&&w!==A&&(w=q(w,!1)));S=b}},30),Z=function(){T.forEach(function(e){clearInterval(e.pid)}),T=[]},Q=function(e){function t(e,t){return function(n,i,o,r){var a;if(null==e&&t)a=!0;else if(null==e||!1===e)a=!1;else if(t&&"clone"===e)a=e;else if("function"==typeof e)a=e(n,i,o,r);else{var l=(t?n:i).options.group.name;a=!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}return a||n.options.group.name&&i.options.group.name&&n.options.group.name===i.options.group.name}}var n={},i=e.group;i&&"object"==typeof i||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},$=function(t){e&&e.parentNode[B]&&e.parentNode[B]._computeIsAligned(t)};function J(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=ve({},t),e[B]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,touchStartThreshold:Y(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==J.supportPointer&&("PointerEvent"in window||window.navigator&&"msPointerEnabled"in window.navigator)};for(var i in n)!(i in t)&&(t[i]=n[i]);for(var o in"direction"in t||(t.direction=function(){return z(e,t)}),Q(t),null==t.invertedSwapThreshold&&(t.invertedSwapThreshold=t.swapThreshold),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&L,te(e,"mousedown",this._onTapStart),te(e,"touchstart",this._onTapStart),t.supportPointer&&te(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(te(e,"dragover",this),te(e,"dragenter",this)),W.push(this._onDragOver),t.store&&t.store.get&&this.sort(t.store.get(this)||[])}function K(e,t,n,i){if(e){n=n||I;do{if(">*"===t&&e.parentNode===n||fe(e,t)||i&&e===n)return e;if(e===n)break}while(e=ee(e))}return null}function ee(e){return e.host&&e!==I&&e.host.nodeType?e.host:e.parentNode}function te(e,t,n){e.addEventListener(t,n,X)}function ne(e,t,n){e.removeEventListener(t,n,X)}function ie(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(k," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(k," ")}}function oe(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return I.defaultView&&I.defaultView.getComputedStyle?n=I.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function re(e,t,n){if(e){var i=e.getElementsByTagName(t),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function ae(e,t,n,o,r,a,l,s,c){var d,h=(e=e||t[B]).options,u="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent?d=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(d=I.createEvent("Event")).initEvent(n,!0,!0),d.to=r||t,d.from=a||t,d.item=o||t,d.clone=i,d.oldIndex=l,d.newIndex=s,d.originalEvent=c,t.dispatchEvent(d),h[u]&&h[u].call(e,d)}function le(e,t,n,i,o,r,a,l){var s,c,d=e[B],h=d.options.onMove;return window.CustomEvent?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=I.createEvent("Event")).initEvent("move",!0,!0),s.to=t,s.from=e,s.dragged=n,s.draggedRect=i,s.related=o||t,s.relatedRect=r||t.getBoundingClientRect(),s.willInsertAfter=l,s.originalEvent=a,e.dispatchEvent(s),h&&(c=h.call(d,s,a)),c}function se(e){e.draggable=!1}function ce(){H=!1}function de(t,i,o){for(var r=0,a=0,l=t.children;a<l.length;){if("none"!==l[a].style.display&&l[a]!==n&&l[a]!==e&&K(l[a],o.draggable,t,!1)){if(r===i)return l[a];r++}a++}return null}function he(e){var t=e.lastElementChild;return t===n&&(t=e.children[e.childElementCount-2]),t||null}function ue(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function pe(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e&&(e=e.previousElementSibling);)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!fe(e,t)||n++;return n}function fe(e,t){if(e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t)}catch(e){return!1}return!1}function ge(e,t){return function(){if(!E){var n=arguments,i=this;E=N(function(){1===n.length?e.call(i,n[0]):e.apply(i,n),E=void 0},t)}}}function ve(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function me(e){return R&&R.dom?R.dom(e).cloneNode(!0):M?M(e).clone(!0)[0]:e.cloneNode(!0)}function ye(e){return N(e,0)}function be(e){return clearTimeout(e)}function _e(e){J.active&&e.cancelable&&e.preventDefault()}return J.prototype={constructor:J,_isAligned:!0,_computeIsAligned:function(t,n){var i,o,r,a,l,s,c;j||e&&e.parentNode===this.el&&(!0!==n&&!1!==n&&(n=!!K(t.target,null,e,!0)),this._isAligned=!S&&(n||this._isAligned&&(i=t.clientX,o=t.clientY,this.el,r=this._getDirection(t,null),this.options,a=C||e.getBoundingClientRect(),l="vertical"===r?a.left:a.top,s="vertical"===r?a.right:a.bottom,l<(c="vertical"===r?i:o)&&c<s)),j=!0,N(function(){j=!1},30))},_getDirection:function(t,n){return"function"==typeof this.options.direction?this.options.direction.call(this,t,n,e):this.options.direction},_onTapStart:function(t){var n,i=this,o=this.el,r=this.options,l=r.preventOnFilter,s=t.type,c=t.touches&&t.touches[0],d=(c||t).target,h=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||d,u=r.filter;if(function(e){U.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var i=t[n];i.checked&&U.push(i)}}(o),!e&&!(/mousedown|pointerdown/.test(s)&&0!==t.button||r.disabled)&&!h.isContentEditable&&(d=K(d,r.draggable,o,!0))&&a!==d){if(n=pe(d,r.draggable),"function"==typeof u){if(u.call(this,t,d,this))return ae(i,h,"filter",d,o,o,n),void(l&&t.cancelable&&t.preventDefault())}else if(u&&(u=u.split(",").some(function(e){if(e=K(h,e.trim(),o,!1))return ae(i,e,"filter",d,o,o,n),!0})))return void(l&&t.cancelable&&t.preventDefault());r.handle&&!K(h,r.handle,o,!1)||this._prepareDragStart(t,c,d,n)}},_handleAutoScroll:function(t,n){if(e&&this.options.scroll){var i=t.clientX,o=t.clientY,r=I.elementFromPoint(i,o),a=this;if(n||window.navigator&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1){G(t,a.options,r,!0);var l=q(r,!0);!S||f&&i===g&&o===v||(f&&clearInterval(f),f=setInterval(function(){if(e){var n=q(I.elementFromPoint(i,o),!0);n!==l&&(l=n,Z(),G(t,a.options,l,!0))}},10),g=i,v=o)}else{if(!a.options.bubbleScroll||q(r,!0)===window)return void Z();G(t,a.options,q(r,!1))}}},_prepareDragStart:function(n,i,l,s){var c,h=this,p=h.el,f=h.options,g=p.ownerDocument;l&&!e&&l.parentNode===p&&(m=n,o=p,t=(e=l).parentNode,r=e.nextSibling,a=l,u=f.group,d=s,this._lastX=(i||n).clientX,this._lastY=(i||n).clientY,e.style["will-change"]="all",c=function(){h._disableDelayedDrag(),e.draggable=h.nativeDraggable,h._triggerDragStart(n,i),ae(h,o,"choose",e,o,o,d),ie(e,f.chosenClass,!0)},f.ignore.split(",").forEach(function(t){re(e,t.trim(),se)}),te(g,"mouseup",h._onDrop),te(g,"touchend",h._onDrop),te(g,"touchcancel",h._onDrop),f.supportPointer&&te(g,"pointercancel",h._onDrop),f.delay?(te(g,"mouseup",h._disableDelayedDrag),te(g,"touchend",h._disableDelayedDrag),te(g,"touchcancel",h._disableDelayedDrag),te(g,"mousemove",h._delayedDragTouchMoveHandler),te(g,"touchmove",h._delayedDragTouchMoveHandler),f.supportPointer&&te(g,"pointermove",h._delayedDragTouchMoveHandler),h._dragStartTimer=N(c.bind(h),f.delay)):c())},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;V(F(t.clientX-this._lastX),F(t.clientY-this._lastY))>=this.options.touchStartThreshold&&this._disableDelayedDrag()},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),ne(e,"mouseup",this._disableDelayedDrag),ne(e,"touchend",this._disableDelayedDrag),ne(e,"touchcancel",this._disableDelayedDrag),ne(e,"mousemove",this._delayedDragTouchMoveHandler),ne(e,"touchmove",this._delayedDragTouchMoveHandler),ne(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){(n=n||("touch"==t.pointerType?t:null))?(m={target:e,clientX:n.clientX,clientY:n.clientY},this._onDragStart(m,"touch")):this.nativeDraggable?(te(e,"dragend",this),te(o,"dragstart",this._onDragStart)):this._onDragStart(m,!0);try{I.selection?ye(function(){I.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(o&&e){this.nativeDraggable&&(te(I,"dragover",this._handleAutoScroll),te(I,"dragover",$));var t=this.options;ie(e,t.dragClass,!1),ie(e,t.ghostClass,!0),oe(e,"transform",""),J.active=this,this._isAligned=!0,ae(this,o,"start",e,o,o,d)}else this._nulling()},_emulateDragOver:function(t){if(y){if(this._lastX===y.clientX&&this._lastY===y.clientY&&!t)return;this._lastX=y.clientX,this._lastY=y.clientY,O||oe(n,"display","none");for(var i=I.elementFromPoint(y.clientX,y.clientY),o=i,r=!!K(i,null,e,!0);i&&i.shadowRoot;)o=i=i.shadowRoot.elementFromPoint(y.clientX,y.clientY);if(o)do{if(o[B]){for(var a=W.length;a--;)W[a]({clientX:y.clientX,clientY:y.clientY,target:i,rootEl:o});if(!this.options.dragoverBubble)break}i=o}while(o=o.parentNode);e.parentNode[B]._computeIsAligned(y,r),O||oe(n,"display","")}},_onTouchMove:function(e){if(m){var t=this.options,i=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=r.clientX-m.clientX+o.x,l=r.clientY-m.clientY+o.y,s=e.touches?"translate3d("+a+"px,"+l+"px,0)":"translate("+a+"px,"+l+"px)";if(this.options.supportPointer&&"touchmove"===e.type)return;if(!J.active){if(i&&V(F(r.clientX-this._lastX),F(r.clientY-this._lastY))<i)return;this._dragStarted()}this._appendGhost(),this._handleAutoScroll(r,!0),b=!0,y=r,oe(n,"webkitTransform",s),oe(n,"mozTransform",s),oe(n,"msTransform",s),oe(n,"transform",s),e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!n){var t,i=e.getBoundingClientRect(),r=oe(e),a=this.options;ie(n=e.cloneNode(!0),a.ghostClass,!1),ie(n,a.fallbackClass,!0),ie(n,a.dragClass,!0),oe(n,"top",i.top-Y(r.marginTop,10)),oe(n,"left",i.left-Y(r.marginLeft,10)),oe(n,"width",i.width),oe(n,"height",i.height),oe(n,"opacity","0.8"),oe(n,"position","fixed"),oe(n,"zIndex","100000"),oe(n,"pointerEvents","none"),a.fallbackOnBody&&I.body.appendChild(n)||o.appendChild(n),t=n.getBoundingClientRect(),oe(n,"width",2*i.width-t.width),oe(n,"height",2*i.height-t.height)}},_onDragStart:function(t,n){var r=this,a=t.dataTransfer,l=r.options;r._offUpEvents(),u.checkPull(r,r,e,t)&&((i=me(e)).draggable=!1,i.style["will-change"]="",this._hideClone(),ie(i,r.options.chosenClass,!1),r._cloneId=ye(function(){o.insertBefore(i,e),ae(r,o,"clone",e)})),ie(e,l.dragClass,!0),n?("touch"===n?(te(I,"touchmove",_e),te(I,"touchmove",r._onTouchMove),te(I,"touchend",r._onDrop),te(I,"touchcancel",r._onDrop),l.supportPointer&&(te(I,"pointermove",r._onTouchMove),te(I,"pointerup",r._onDrop))):(te(I,"mousemove",r._onTouchMove),te(I,"mouseup",r._onDrop)),r._loopId=setInterval(r._emulateDragOver,50),ie(e,l.dragClass,!1)):(a&&(a.effectAllowed="move",l.setData&&l.setData.call(r,a,e)),te(I,"drop",r),oe(e,"transform","translateZ(0)"),r._dragStartId=ye(r._dragStarted)),te(I,"selectstart",r)},_onDragOver:function(a){var l,s,c,d,h=this.el,f=this.options,g=f.group,v=J.active,m=u===g,y=f.sort;if((void 0===a.rootEl||a.rootEl===this.el)&&(f.dragoverBubble||a.rootEl||(this._handleAutoScroll(a),e.parentNode[B]._computeIsAligned(a)),void 0!==a.preventDefault&&(a.cancelable&&a.preventDefault(),!f.dragoverBubble&&a.stopPropagation()),b=!0,l=K(a.target,f.draggable,h,!0),!(e.animated&&l===e||l.animated||H)&&(l!==_&&(P=!1,x=!1,_=null),v&&!f.disabled&&(m?y||(d=!o.contains(e)):p===this||(this.lastPutMode=u.checkPull(this,v,e,a))&&g.checkPut(this,v,e,a))))){var D,E=this._getDirection(a,l);if(s=e.getBoundingClientRect(),p!==this&&this!==J.active?(p=this,!0):this===J.active&&(!1,p=null),d)return this._hideClone(),t=o,void(i||r?o.insertBefore(e,i||r):y||o.appendChild(e));if(0===h.children.length||h.children[0]===n||h===a.target&&function(e,t,n){var i=he(n).getBoundingClientRect(),o="vertical"===t?e.clientY:e.clientX,r="vertical"===t?e.clientX:e.clientY,a="vertical"===t?i.bottom:i.right,l="vertical"===t?i.left:i.top,s="vertical"===t?i.right:i.bottom;return r>l&&r<s&&o>a}(a,E,h)){if(0!==h.children.length&&h.children[0]!==n&&h===a.target&&(l=he(h)),l){if(l.animated)return;c=l.getBoundingClientRect()}m?v._hideClone():v._showClone(this),!1!==le(o,h,e,s,l,c,a,!!l)&&(e.contains(h)||(h.appendChild(e),t=h,this._isAligned=!0,C=null),this._animate(s,e),l&&this._animate(c,l))}else if(l&&!l.animated&&l!==e&&void 0!==l.parentNode[B]&&l!==h){if(P=P||f.invertSwap||e.parentNode!==h||!this._isAligned,0===(D=function(t,n,i,o,r,a,l){var s=n.getBoundingClientRect(),c="vertical"===i?t.clientY:t.clientX,d="vertical"===i?s.height:s.width,h="vertical"===i?s.top:s.left,u="vertical"===i?s.bottom:s.right,p=e.getBoundingClientRect(),f="vertical"===i?p.height:p.width,g=!1,v=oe(e);if(f+=Y(v.marginLeft)+Y(v.marginRight),!a)if(l&&f<d*o)if(!x&&(1===w?c>h+d*r/2:c<u-d*r/2)&&(x=!0),x)g=!0;else{"vertical"===i?p.top:p.left,"vertical"===i?p.bottom:p.right;if(1===w?c<h+f:c>u-f)return-1*w}else if(c>h+d*(1-o)/2&&c<u-d*(1-o)/2)return c>h+d/2?-1:1;if((g=g||a)&&(c<h+d*r/2||c>u-d*r/2))return c>h+d/2?1:-1;return 0}(a,l,E,f.swapThreshold,f.invertedSwapThreshold,P,_===l)))return;C=null,this._isAligned=!0,_&&(_===l||l&&l.animated)||(x=!1,_=l),w=D,c=l.getBoundingClientRect();var T=l.nextElementSibling,S=!1,k=le(o,h,e,s,l,c,a,S=1===D);!1!==k&&(1!==k&&-1!==k||(S=1===k),H=!0,N(ce,30),m?v._hideClone():v._showClone(this),e.contains(h)||(S&&!T?h.appendChild(e):l.parentNode.insertBefore(e,S?T:l)),t=e.parentNode,this._animate(s,e),this._animate(c,l))}}},_animate:function(t,n){var i=this.options.animation;if(i){var o=n.getBoundingClientRect();if(n===e&&(C=o),1===t.nodeType&&(t=t.getBoundingClientRect()),t.left+t.width/2===o.left+o.width/2&&t.top+t.height/2===o.top+o.height/2)return;oe(n,"transition","none"),oe(n,"transform","translate3d("+(t.left-o.left)+"px,"+(t.top-o.top)+"px,0)"),n.offsetWidth,oe(n,"transition","all "+i+"ms"),oe(n,"transform","translate3d(0,0,0)"),clearTimeout(n.animated),n.animated=N(function(){oe(n,"transition",""),oe(n,"transform",""),n.animated=!1},i)}},_offUpEvents:function(){var e=this.el.ownerDocument;ne(I,"touchmove",_e),ne(I,"touchmove",this._onTouchMove),ne(I,"pointermove",this._onTouchMove),ne(e,"mouseup",this._onDrop),ne(e,"touchend",this._onDrop),ne(e,"pointerup",this._onDrop),ne(e,"touchcancel",this._onDrop),ne(e,"pointercancel",this._onDrop),ne(I,"selectstart",this)},_onDrop:function(a){var l=this.el,s=this.options;S=!1,P=!1,x=!1,clearInterval(this._loopId),clearInterval(f),Z(),clearTimeout(E),E=void 0,clearTimeout(this._dragStartTimer),be(this._cloneId),be(this._dragStartId),ne(I,"mousemove",this._onTouchMove),this.nativeDraggable&&(ne(I,"drop",this),ne(l,"dragstart",this._onDragStart),ne(I,"dragover",this._handleAutoScroll),ne(I,"dragover",$)),this._offUpEvents(),a&&(b&&(a.cancelable&&a.preventDefault(),!s.dropBubble&&a.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),(o===t||p&&"clone"!==p.lastPutMode)&&i&&i.parentNode&&i.parentNode.removeChild(i),e&&(this.nativeDraggable&&ne(e,"dragend",this),se(e),e.style["will-change"]="",ie(e,this.options.ghostClass,!1),ie(e,this.options.chosenClass,!1),ae(this,o,"unchoose",e,t,o,d,null,a),o!==t?((h=pe(e,s.draggable))>=0&&(ae(null,t,"add",e,t,o,d,h,a),ae(this,o,"remove",e,t,o,d,h,a),ae(null,t,"sort",e,t,o,d,h,a),ae(this,o,"sort",e,t,o,d,h,a)),p&&p.save()):e.nextSibling!==r&&(h=pe(e,s.draggable))>=0&&(ae(this,o,"update",e,t,o,d,h,a),ae(this,o,"sort",e,t,o,d,h,a)),J.active&&(null!=h&&-1!==h||(h=d),ae(this,o,"end",e,t,o,d,h,a),this.save()))),this._nulling()},_nulling:function(){o=e=t=n=r=i=a=l=s=T.length=f=g=v=m=y=b=h=d=_=w=C=p=u=J.active=null,U.forEach(function(e){e.checked=!0}),U.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":e&&(this._onDragOver(t),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,o=n.length,r=this.options;i<o;i++)K(e=n[i],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||ue(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach(function(e,i){var o=n.children[i];K(o,this.options.draggable,n,!1)&&(t[e]=o)},this),e.forEach(function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return K(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&Q(n)},destroy:function(){var e=this.el;e[B]=null,ne(e,"mousedown",this._onTapStart),ne(e,"touchstart",this._onTapStart),ne(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ne(e,"dragover",this),ne(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),W.splice(W.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null},_hideClone:function(){i.cloneHidden||(oe(i,"display","none"),i.cloneHidden=!0)},_showClone:function(t){"clone"===t.lastPutMode?i.cloneHidden&&(o.contains(e)&&!this.options.group.revertClone?o.insertBefore(i,e):r?o.insertBefore(i,r):o.appendChild(i),this.options.group.revertClone&&this._animate(e,i),oe(i,"display",""),i.cloneHidden=!1):this._hideClone()}},J.utils={on:te,off:ne,css:oe,find:re,is:function(e,t){return!!K(e,t,e,!1)},extend:ve,throttle:ge,closest:K,toggleClass:ie,clone:me,index:pe,nextTick:ye,cancelNextTick:be,detectDirection:z,getChild:de},J.create=function(e,t){return new J(e,t)},J.version="1.8.0-rc1",J})},function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i);const r=(e,t)=>new Promise((n,i)=>{const o=document.createElement("iframe");o.frameBorder=0,o.setAttribute("allow","accelerometer; autoplay; encrypted-media; gyroscope"),o.setAttribute("donotallowfullscreen",""),o.src="https://www.youtube.com/embed/"+e+"?disablekb=1&enablejsapi=1&controls=0&origin="+encodeURIComponent(window.origin),console.log("creating a yt player..."),o.style.display="none",t.appendChild(o);const r=e=>{console.error("error on yt player creation, removing element..."),t.removeChild(o),i(e)},a=new YT.Player(o,{playerVars:{controls:0,origin:window.origin,fs:0,disablekb:1},events:{onReady:()=>{l(a),a.setVolume(100),a.getVideoData().title?(o.style.display="",n(a)):r(1)},onError:({data:e})=>{r(e)}}})}),a=e=>{console.log("removing iframe..."),e.getIframe().remove()},l=e=>{e.setPlaybackQuality("hd720")},s=function(){const e=document.createElement("div");return e.style.display="none",document.body.appendChild(e),t=>r(t,e).then(e=>{const t=e.getVideoData().title;return a(e),t})}(),c=new Promise(e=>{window.onYouTubeIframeAPIReady=e}),d=e=>{try{return e()}catch(e){return null}};customElements.define("li-track",class extends HTMLLIElement{constructor(){super()}createYtPlayer(e){return r(this.dataset.id,e)}getTitle(){return s(this.dataset.id)}connectedCallback(){if(this.children.length>0)return;const e=this.dataset.id,t=document.getElementById("li-track-template"),n=document.importNode(t.content,!0),i=n.querySelector(".text");i.textContent=`Loading ${e}...`,this.getTitle().then(e=>{i.textContent=e}).catch(e=>{console.error("cannot load player because of:",e),this.remove()}),this.appendChild(n)}},{extends:"li"}),customElements.define("ul-playlist",class extends HTMLUListElement{constructor(){super()}connectedCallback(){this.videoContainer=document.getElementById(this.dataset.videoContainer),this.players=[],this.playing=!1,this.currentChild=null,o.a.create(this,{animation:150,scrollSpeed:2,filter:".remove",onFilter:e=>{this.currentChild===e.item&&this.next(),e.item.remove()}}),new MutationObserver(e=>{if(!this.contains(this.currentChild))for(const t of e)[...t.removedNodes].some(e=>e===this.currentChild)&&(console.log("removed current node, starting next one"),this.start(this.nextElement(t.previousSibling)))}).observe(this,{childList:!0})}fade(){if(this.fading)return;this.fading=!0;const e=new WeakMap;for(const t of this.players)e.set(t,{volume:t.getVolume()})}nextElement(e){return e&&e.nextElementSibling||this.firstElementChild}prevElement(e){return e&&e.previousElementSibling||this.lastElementChild}start(e){if(clearTimeout(this.endTimeout),this.currentChild&&delete this.currentChild.dataset.playing,this.currentChild=e,console.log(e),null===e)return this.players.forEach(a),!1;e.dataset.playing=!0,e.createYtPlayer(this.videoContainer).then(async e=>{this.players.forEach(a),this.players=[e],e.addEventListener("onStateChange",e=>{switch(e.data){case YT.PlayerState.PLAYING:this.play();break;case YT.PlayerState.PAUSED:this.pause()}}),console.log("playing: "+this.playing),this.playing&&this._play()})}add(e){const t=document.createElement("li",{is:"li-track"});t.dataset.id=e,this.appendChild(t),null===this.currentChild&&this.start(t)}pause(){if(this.playing){clearTimeout(this.endTimeout),this.playing=!1,this.dispatchEvent(new Event("pause"));for(const e of this.players)e.pauseVideo()}}_play(){if(0===this.players.length)return;const e=(e=>e[e.length-1])(this.players);this.endTimeout=setTimeout(()=>{this.start(this.nextElement(this.currentChild))},1e3*(e.getDuration()-e.getCurrentTime()));for(const e of this.players)e.playVideo();console.log("started playing!")}play(){this.playing||(this.playing=!0,this.dispatchEvent(new Event("play")),this._play())}togglePlay(){this.playing?this.pause():this.play()}prev(){return this.start(this.prevElement(this.currentChild))}next(){return this.start(this.nextElement(this.currentChild))}},{extends:"ul"});const h=/^[-_0-9A-Za-z]{11}$/;!async function(){await c;const e=document.querySelector("ul"),t=document.getElementById("add-form"),n=document.getElementById("add-input");t.addEventListener("submit",t=>{t.preventDefault();const i=(e=>d(()=>(e=>e.searchParams.get("v")||e.pathname.split("/").pop())(new URL(e)))||e)(n.value);"string"==typeof i&&h.test(i)?e.add(i):console.error("invalid id:",i)});const i=document.getElementById("prev"),o=document.getElementById("next"),r=document.getElementById("play");i.addEventListener("click",()=>{e.prev()}),o.addEventListener("click",()=>{e.next()}),r.addEventListener("click",()=>{e.togglePlay()}),e.addEventListener("play",()=>{r.textContent="pause"}),e.addEventListener("pause",()=>{r.textContent="play_arrow"})}()}]);